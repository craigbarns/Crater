import{l as V,M as L,m as z,d as I,e as k,E,r as h,o as n,j as c,h as a,b as e,x as t,Q as F,c as u,F as g,i as x,n as w,z as d,t as i,g as m,a as r,aZ as G,a_ as O,a$ as P,b0 as T,b1 as H,b2 as Q,b3 as Z,b4 as q,b5 as J}from"./main.9d5398e3.js";import{u as K}from"./auth.adfc00a6.js";import{u as N}from"./global.438433d1.js";import{N as W}from"./NotificationRoot.cccb02d6.js";const X={class:"mx-auto px-8"},Y={class:"flex justify-between h-16 w-full"},ee={class:"flex"},te={class:"shrink-0 flex items-center"},se=["href"],oe=["src"],re={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},ae={class:"hidden sm:ml-6 sm:flex sm:items-center"},ne=e("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),le=["src"],ie={class:"-mr-2 flex items-center sm:hidden"},ce=e("span",{class:"sr-only"},"Open main menu",-1),ue={class:"pt-2 pb-3 space-y-1"},de={class:"pt-4 pb-3 border-t border-gray-200"},me={class:"flex items-center px-4"},fe={class:"shrink-0"},_e=["src"],pe={class:"ml-3"},he={class:"text-base font-medium text-gray-800"},ge={class:"text-sm font-medium text-gray-500"},ye=e("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),be={class:"mt-3 space-y-1"},ve={__name:"TheSiteHeader",setup(A){const{t:f}=V(),_=L(),o=N(),y=[{title:f("navigation.logout"),link:`/${o.companySlug}/customer/login`}],$=K(),S=z(),b=I(""),B=k(()=>o.currentUser&&o.currentUser.avatar!==0?o.currentUser.avatar:M());function M(){return new URL("/build/img/default-avatar.jpg",self.location)}E(_,l=>{b.value=l.path},{immediate:!0});const D=k(()=>window.customer_logo?window.customer_logo:!1);function v(l){return _.path.indexOf(l)>-1}function C(){$.logout(o.companySlug).then(l=>{l&&S.push({name:"customer.login"})})}return(l,ke)=>{const p=h("router-link"),U=h("BaseDropdownItem"),R=h("BaseDropdown");return n(),c(t(J),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:j})=>[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[e("a",{href:`/${t(o).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[D.value?(n(),u("img",{key:1,src:D.value,class:"h-6"},null,8,oe)):(n(),c(F,{key:0,class:"h-6"}))],8,se)]),e("div",re,[(n(!0),u(g,null,x(t(o).mainMenu,s=>(n(),c(p,{key:s.title,to:`/${t(o).companySlug}${s.link}`,class:w([v(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class"]))),128))])]),e("div",ae,[ne,m(" Profile dropdown "),r(t(G),{as:"div",class:"ml-3 relative"},{default:a(()=>[r(R,{"width-class":"w-48"},{activator:a(()=>[r(t(O),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[e("img",{class:"h-8 w-8 rounded-full",src:B.value,alt:""},null,8,le)]),_:1})]),default:a(()=>[r(p,{to:{name:"customer.profile"}},{default:a(()=>[r(U,null,{default:a(()=>[r(t(P),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+i(l.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),r(U,{onClick:C},{default:a(()=>[r(t(T),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),d(" "+i(l.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),e("div",ie,[m(" Mobile menu button "),r(t(H),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[ce,j?(n(),c(t(Z),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(t(Q),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),r(t(q),{class:"sm:hidden"},{default:a(()=>[e("div",ue,[(n(!0),u(g,null,x(t(o).mainMenu,s=>(n(),c(p,{key:s.title,to:`/${t(o).companySlug}${s.link}`,class:w([v(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),e("div",de,[e("div",me,[e("div",fe,[e("img",{class:"h-10 w-10 rounded-full",src:B.value,alt:""},null,8,_e)]),e("div",pe,[e("div",he,i(t(o).currentUser.title),1),e("div",ge,i(t(o).currentUser.email),1)]),ye]),e("div",be,[(n(),u(g,null,x(y,s=>r(p,{key:s.title,to:s.link,class:w([v(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[d(i(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},xe={key:0,class:"h-full"},we={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Ue={__name:"LayoutBasic",setup(A){const f=N(),_=L(),o=k(()=>f.isAppLoaded);y();async function y(){await f.bootstrap(_.params.company)}return($,S)=>{const b=h("router-view");return n(),u(g,null,[o.value?(n(),u("div",xe,[r(W),r(ve),m(" <SiteSidebar /> "),e("main",we,[r(b)])])):m("v-if",!0),m(" <BaseGlobalLoader v-else /> ")],2112)}}};export{Ue as default};
